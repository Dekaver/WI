pandas python tfidfvectorizer throwing empty vocabulary perhaps documents contain stop words stack overflow stack overflow products teams stack overflow public questions answers stack overflow teams developers technologists share private knowledge coworkers jobs programming related technical career opportunities talent recruit tech talent build employer brand advertising reach developers technologists worldwide company loading log sign current community stack overflow help chat meta stack overflow communities sign log customize list stack exchange communities company blog people code want input take survey join stack overflow learn share knowledge build career sign email sign sign google sign github sign facebook home public questions tags users find job jobs companies teams stack overflow teams collaborate share knowledge private group create free team teams teams create free team teams q work connect share knowledge within single location structured easy search learn python tfidfvectorizer throwing empty vocabulary perhaps documents contain stop words ask question asked years months ago active months ago viewed k times trying use python tfidf transform corpus text however try fit_transform get value error valueerror empty vocabulary perhaps documents contain stop words tfidfvectorizer fit_transform smallcorp valueerror traceback recent call last tfidfvectorizer fit_transform smallcorp users maxsong anaconda lib python site packages sklearn feature_extraction text pyc fit_transform self raw_documents vectors array n_samples n_features x super tfidfvectorizer self fit_transform raw_documents self _tfidf fit x x already transformed view raw_documents users maxsong anaconda lib python site packages sklearn feature_extraction text pyc fit_transform self raw_documents max_features self max_features vocabulary x self _count_vocab raw_documents self fixed_vocabulary x x tocsc users maxsong anaconda lib python site packages sklearn feature_extraction text pyc _count_vocab self raw_documents fixed_vocab vocabulary dict vocabulary vocabulary raise valueerror empty vocabulary perhaps documents contain stop words valueerror empty vocabulary perhaps documents contain stop words read question problems using custom vocabulary tfidfvectorizer scikit learn tried ogrisel suggestion using tfidfvectorizer params build_analyzer dataset check results text analysis step seems working expected snippet tfidfvectorizer build_analyzer smallcorp u due u u lack u u personal u biggest u education u u husband u something else wrong corpus feeding one giant long string punctuated newlines thanks python pandas scikit learn tf idf share improve question follow edited may community silver badge asked jan max songmax song gold badges silver badges bronze badges problem downgraded v nacho apr add comment answers active oldest votes guess one string try splitting list strings e g smallcorp ah done philosophy ni finished law medicine nand sadly even theology ntaken fierce pains end end nnow fool sure nno wiser tf tfidfvectorizer tf fit_transform smallcorp split n stored elements compressed sparse row format share improve answer follow answered jan herrfzherrfz gold badges silver badges bronze badges correct answer link documentation find anywhere goodword sep example document scikit learn org stable modules section corpus variable satojkovic may add comment version set minimum document frequency means words appear least twice considered example work need set min_df since default setting guess using right share improve answer follow answered jan andreas muellerandreas mueller k gold badges silver badges bronze badges add comment alternatively put single string tuple insist one string instead smallcorp text rather put within tuple smallcorp text tf fit_transform smallcorp stored elements compressed sparse row format share improve answer follow answered apr iparjonoiparjono silver badges bronze badges add comment encountered similar error running tf idf python script large corpus small files apparently lacked keywords throwing error message tried several solutions adding dummy strings filtered list len filtered help simplest solution add try except continue expression pattern u b w b cv countvectorizer token_pattern pattern filtered list filtered w w filtered w my_stopwords w isdigit valueerror cv fit text file tfidf sklearn py line tfidf cv fit filtered file home victoria venv py lib python site packages sklearn feature_extraction text py line fit self fit_transform raw_documents valueerror empty vocabulary perhaps documents contain stop words help https stackoverflow com len filtered filtered xxx yyy zzz solution try cv fit filtered cv fit_transform filtered doc_freq_term_matrix cv transform filtered except valueerror continue share improve answer follow answered nov victoria stuartvictoria stuart gold badges silver badges bronze badges hey victoria seems case avoid performing operation wanted vectorizing understanding aleksander molak jun add comment also problem transform list int nums list str nums help converted str nums nums set letter mention work strings helped share improve answer follow answered nov alex ivanovalex ivanov silver badge bronze badges add comment answer thanks contributing answer stack overflow please sure answer question provide details share research avoid asking help clarification responding answers making statements based opinion back references personal experience learn see tips writing great answers draft saved draft discarded sign log sign using google sign using facebook sign using email password submit post guest name email required never shown post guest name email required never shown post answer discard clicking post answer agree terms service privacy policy cookie policy answer looking browse questions tagged python pandas scikit learn tf idf ask question overflow blog podcast blocking haters service developer survey open featured meta testing three vote close reopen network sites future community promotion open source hot network questions ads rule proposal one delete undelete per post take developer survey visit chat linked problems using custom vocabulary tfidfvectorizer scikit learn solve countvectorizer valueerror empty vocabulary perhaps documents contain stop words tfidf empty vocabulary perhaps documents contain stop words transform data using tfidf python related label encoding across multiple columns scikit learn tfidfvectorizer scikit learn showing behavior custom sklearn transformer works alone throws error used pipeline pass stopwords column dataframe use list lists list sets tfidfvectorizer valueerror empty vocabulary perhaps documents contain stop words hot network questions tex allow numbers command names proof variance always greater zero voltage increase batteries connected parallel tell players necromancers bad guys use score highest sentence supposed report status standups colorful plate puzzle way limit players currency system resource system wrong key signature score f dorian output descriptor arbitrary script would ways balance energy mass parallel universe another someone something travels wormhole possible eletronically disable ejection seat sasha johnson state white man equal slave browser based wallet like metamask planned cardano hermeneutic paul employing approach corinthians c standard card deck months based moon months longer gregorian calendar lunation would probable reaction belarusian planes entered lithuanian airspace mobile phone chargers produce regulated voltage script generate input files benchmark purpose formal requirements cite universal declaration human rights u courts english equivalent russian idiom притянуть за уши opposite abbreviate legal store accept payment debit card able refund even event staff mistake short way writing x x b x c hot questions question feed subscribe rss question feed subscribe rss feed copy paste url rss reader lang py stack overflow questions jobs developer jobs directory salary calculator help mobile products teams talent advertising enterprise company press work legal privacy policy terms service contact us cookie settings cookie policy stack exchange network technology life arts culture recreation science stack overflow server fault super user web applications ask ubuntu webmasters game development tex latex software engineering unix linux ask different apple wordpress development geographic information systems electrical engineering android enthusiasts information security database administrators drupal answers sharepoint user experience mathematica salesforce expressionengine answers stack overflow em português blender network engineering cryptography code review magento software recommendations signal processing emacs raspberry pi stack overflow на русском code golf stack overflow en español ethereum data science arduino bitcoin software quality assurance testing sound design windows phone photography science fiction fantasy graphic design movies tv music practice theory worldbuilding video production seasoned advice cooking home improvement personal finance money academia law physical fitness gardening landscaping parenting english language usage skeptics mi yodeya judaism travel christianity english language learners japanese language chinese language french language german language biblical hermeneutics history spanish language islam русский язык russian language arqade gaming bicycles role playing games anime manga puzzling motor vehicle maintenance repair board card games bricks homebrewing martial arts great outdoors poker chess sports mathoverflow mathematics cross validated stats theoretical computer science physics chemistry biology computer science philosophy linguistics psychology neuroscience computational science meta stack exchange stack apps api data blog facebook twitter linkedin instagram site design logo stack exchange inc user contributions licensed cc sa rev stack overflow works best javascript enabled privacy clicking accept cookies agree stack exchange store cookies device disclose information accordance cookie policy accept cookies customize settings