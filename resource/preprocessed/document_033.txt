ValueError: empty vocabulary; perhaps the documents only contain stop words - cdQA
profile
viewpoint
nodejs
Spring Boot
React
Rust
tensorflow
Ask
questionsValueError: empty vocabulary; perhaps the documents only contain stop words
Describe the bug
Traceback (most recent call last):
File "train.py", line 9, in <module>
cdqa_pipeline.fit(X=df)
File "E:\Python\cdQA\cdqa\pipeline\cdqa_sklearn.py", line 86, in fit
self.retriever.fit(self.metadata['content'])
File "E:\Python\cdQA\cdqa\retriever\tfidf_sklearn.py", line 75, in fit
self.tfidf_matrix = self.vectorizer.fit_transform(X)
File "E:\Anaconda\envs\frageantwort\lib\site-packages\sklearn\feature_extraction\text.py", line 1652, in fit_transform
X = super().fit_transform(raw_documents)
File "E:\Anaconda\envs\frageantwort\lib\site-packages\sklearn\feature_extraction\text.py", line 1058, in fit_transform
self.fixed_vocabulary_)
File "E:\Anaconda\envs\frageantwort\lib\site-packages\sklearn\feature_extraction\text.py", line 989, in _count_vocab
raise ValueError("empty vocabulary; perhaps the documents only"
ValueError: empty vocabulary; perhaps the documents only contain stop words
To Reproduce
Steps to reproduce the behavior:
import pandas as pd
from ast import literal_eval
from cdqa.pipeline.cdqa_sklearn import QAPipeline
from cdqa.utils.converters import pdf_converter
df = pdf_converter(directory_path='E:/books')
cdqa_pipeline = QAPipeline(model='bert_qa_vGPU-sklearn.joblib')
cdqa_pipeline.fit(X=df)
cdqa_pipeline.predict(X='What is?')
Expected behavior
Prediction
Desktop (please complete the following information):
OS: Windows 10
cdqa-suite/cdQA
Answer
questions
ErfolgreichCharismatisch
With your code I get
Traceback (most recent call last):
File "train.py", line 8, in <module>
cdqa_pipeline.fit(X=df)
File "E:\Python\cdQA\cdqa\pipeline\cdqa_sklearn.py", line 86, in fit
self.retriever.fit(self.metadata['content'])
File "E:\Python\cdQA\cdqa\retriever\tfidf_sklearn.py", line 75, in fit
self.tfidf_matrix = self.vectorizer.fit_transform(X)
File "E:\Anaconda\envs\frageantwort\lib\site-packages\sklearn\feature_extraction\text.py", line 1652, in fit_transform
X = super().fit_transform(raw_documents)
File "E:\Anaconda\envs\frageantwort\lib\site-packages\sklearn\feature_extraction\text.py", line 1058, in fit_transform
self.fixed_vocabulary_)
File "E:\Anaconda\envs\frageantwort\lib\site-packages\sklearn\feature_extraction\text.py", line 989, in _count_vocab
raise ValueError("empty vocabulary; perhaps the documents only"
ValueError: empty vocabulary; perhaps the documents only contain stop words
useful!
Related questions
cdqa install error
hot 7
Google Colab fit_retriever bug
hot 6
sourceï¼šhttps://uonfu.com/
answerer
Erfolgreich charismatisch ErfolgreichCharismatisch
None
Germany
None
None
repos
9
gists
0
followers
2
following
0
Github User Rank List