countvectorizer throwing valueerror empty vocabulary perhaps documents contain stop words users discussions python org countvectorizer throwing valueerror empty vocabulary perhaps documents contain stop words users piyushkyushu piyush kyushu october first clustered text data combined documents label single document code combine documents docs_df pd dataframe data columns doc docs_df topic cluster labels_ docs_df doc_id range len docs_df docs_per_topic docs_df dropna subset doc groupby topic as_index false agg doc join want tf idf using countvectorizer using code import numpy np sklearn feature_extraction text import countvectorizer def c_tf_idf documents ngram_range count countvectorizer ngram_range ngram_range stop_words english fit documents count transform documents toarray w sum axis tf np divide w sum_t sum axis idf np log np divide sum_t reshape tf_idf np multiply tf idf return tf_idf count tf_idf count c_tf_idf docs_per_topic doc values len data getting error valueerror traceback recent call last return tf_idf count tf_idf count c_tf_idf docs_per_topic doc values len data c_tf_idf documents ngram_range def c_tf_idf documents ngram_range count countvectorizer ngram_range ngram_range stop_words english fit documents count transform documents toarray w sum axis opt anaconda envs tensorflow lib python site packages sklearn feature_extraction text py fit self raw_documents self _warn_for_unused_params self fit_transform raw_documents return self opt anaconda envs tensorflow lib python site packages sklearn feature_extraction text py fit_transform self raw_documents vocabulary x self count_vocab raw_documents self fixed_vocabulary self binary opt anaconda envs tensorflow lib python site packages sklearn feature_extraction text py _count_vocab self raw_documents fixed_vocab vocabulary dict vocabulary vocabulary raise valueerror empty vocabulary perhaps documents contain stop words valueerror empty vocabulary perhaps documents contain stop words tried using split forum suggested giving another error would appreciate suggestions solutions problem thank lrjball lewis ball october hi piyush think issue something dataset preprocessing happens part countvectorizer words actually counted default word alphanumeric characters surrounded whitespace punctuation meaning single letter words get removed also choose remove english stopwords like using stopwords english etc words also removed words left count countvectorizer give error getting example fail words stripped preprocessing sklearn feature_extraction text import countvectorizer cv countvectorizer fit b c fail cv countvectorizer fit valid sentence contains words home categories faq guidelines terms service privacy policy powered discourse best viewed javascript enabled